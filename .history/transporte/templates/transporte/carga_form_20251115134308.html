{% extends 'base.html' %}

{% block title %}{% if carga %}Editar{% else %}Nueva{% endif %} Carga - Log칤stica Global{% endblock %}

{% block content %}
<div class="page-title">
    <span>游닍</span>
    <span>{% if carga %}Editar Carga{% else %}Nueva Carga{% endif %}</span>
</div>

<div class="content-card">
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label class="form-label">Descripci칩n *</label>
            <input type="text" class="form-input" name="descripcion" value="{{ carga.descripcion|default:'' }}" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Tipo de Carga *</label>
                <select class="form-select" name="tipo_carga" required>
                    <option value="">Seleccionar tipo</option>
                    <option value="General" {% if carga.tipo_carga == 'General' %}selected{% endif %}>General</option>
                    <option value="Peligrosa" {% if carga.tipo_carga == 'Peligrosa' %}selected{% endif %}>Peligrosa</option>
                    <option value="Refrigerada" {% if carga.tipo_carga == 'Refrigerada' %}selected{% endif %}>Refrigerada</option>
                    <option value="Fr치gil" {% if carga.tipo_carga == 'Fr치gil' %}selected{% endif %}>Fr치gil</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Cliente *</label>
                <select class="form-select" name="cliente" required>
                    <option value="">Seleccionar cliente</option>
                    {% for cliente in clientes %}
                    <option value="{{ cliente.id }}" {% if carga.cliente.id == cliente.id %}selected{% endif %}>
                        {{ cliente.razon_social|default:cliente.nombre }}
                    </option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Peso (kg) *</label>
                <input type="number" class="form-input" name="peso_kg" value="{{ carga.peso_kg|default:'' }}" step="0.01" required min="0">
            </div>
            <div class="form-group">
                <label class="form-label">Volumen (m췁) *</label>
                <input type="number" class="form-input" name="volumen_m3" value="{{ carga.volumen_m3|default:'' }}" step="0.01" required min="0">
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Valor Declarado *</label>
            <input type="number" class="form-input" name="valor_declarado" value="{{ carga.valor_declarado|default:'' }}" step="0.01" required min="0">
        </div>

        <div class="form-group">
            <label class="form-label">Notas Especiales</label>
            <textarea class="form-textarea" name="notas_especiales">{{ carga.notas_especiales|default:'' }}</textarea>
        </div>

        <div class="action-buttons">
            <button type="submit" class="btn btn-success">
                {% if carga %}Actualizar{% else %}Crear{% endif %} Carga
            </button>
            <a href="{% url 'cargas' %}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}